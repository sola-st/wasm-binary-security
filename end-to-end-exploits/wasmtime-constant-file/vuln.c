#include<stdio.h>
#include<stdlib.h>

__attribute__((noinline))
void stack_based_buffer_overflow() {
    char buf[32];
    scanf("%[^\n]", buf);
    puts(buf);
}

__attribute__((noinline))
void write_file() {
    FILE *f = fopen("file.txt", "w");
    if (f == NULL) {
        printf("Error opening file.\n");
        exit(1);
    }
    fprintf(f, "Write constant text to file.");
    fclose(f);
}

int main() {
    stack_based_buffer_overflow();
    write_file();
    return 0;
}

